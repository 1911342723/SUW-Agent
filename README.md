# swu-agent 项目开发文档

## 1. 项目概述

swu-agent 是一个基于 DDD（领域驱动设计）架构的全栈项目，采用前后端分离的开发模式。项目使用现代化的技术栈和最佳实践，旨在提供高质量、可维护的代码架构。

## 2. 技术栈

### 2.1 后端技术栈
- 核心框架：Spring Boot
- 数据库：PostgreSQL
- ORM框架：MyBatis-Plus
- 项目管理：Maven
- 容器化：Docker

### 2.2 前端技术栈
- 框架：Next.js 14
- UI框架：React
- 样式解决方案：Tailwind CSS
- 包管理器：pnpm
- 开发语言：TypeScript

## 3. 项目架构

### 3.1 后端架构 (DDD)

```
org.yan
  ├── domain                # 领域层
  │   └── {业务领域}
  │       ├── model         # 领域模型
  │       ├── repository    # 仓储接口
  │       ├── service       # 领域服务
  │       └── event         # 领域事件
  │
  ├── application           # 应用层
  │   └── {业务领域}
  │       ├── service       # 应用服务
  │       ├── dto          # 数据传输对象
  │       └── assembler    # DTO转换器
  │
  ├── interfaces           # 接口层
  │   ├── api              # API控制器
  │   ├── dto             # 接口数据传输对象
  │   └── facade          # 外部系统门面
  │
  └── infrastructure      # 基础设施层
      ├── persistence     # 持久化相关
      ├── repository      # 仓储实现
      ├── config         # 配置
      └── util           # 工具类
```

### 3.2 前端架构

```
agentx-frontend-plus/
  ├── app/                # Next.js 14 应用路由
  ├── components/         # 可复用组件
  ├── contexts/          # React Context
  ├── hooks/            # 自定义Hooks
  ├── lib/             # 工具库
  ├── public/          # 静态资源
  ├── styles/          # 全局样式
  └── types/           # TypeScript类型定义
```

## 4. 核心模块

### 4.1 后端模块
1. **用户认证模块**
   - 用户注册、登录、注销
   - 权限管理
   - 会话管理

2. **业务核心模块**
   - 领域模型管理
   - 业务规则实现
   - 数据处理和验证

3. **基础设施模块**
   - 数据持久化
   - 缓存管理
   - 日志系统
   - 工具类库

### 4.2 前端模块
1. **用户界面模块**
   - 页面布局组件
   - UI组件库
   - 主题管理

2. **状态管理模块**
   - Context管理
   - 数据流控制
   - 缓存策略

3. **API集成模块**
   - 接口请求封装
   - 数据转换
   - 错误处理

## 5. API规范

### 5.1 RESTful API设计
- 基础路径：`/api`
- 资源命名：使用复数形式
- HTTP方法：
  - GET：查询资源
  - POST：创建资源
  - PUT：全量更新
  - PATCH：部分更新
  - DELETE：删除资源

### 5.2 响应格式
```json
{
  "code": 200,
  "message": "操作成功",
  "data": {}
}
```

### 5.3 状态码
- 200：成功
- 400：请求参数错误
- 401：未认证
- 403：权限不足
- 404：资源不存在
- 500：服务器内部错误

## 6. 开发规范

### 6.1 代码规范
- 遵循DDD架构原则
- 使用统一的命名规范
- 遵循SOLID原则
- 编写单元测试

### 6.2 Git工作流
- 主分支：master/main
- 开发分支：develop
- 功能分支：feature/*
- 修复分支：hotfix/*

### 6.3 文档规范
- 及时更新API文档
- 编写详细的注释
- 维护README文档

## 7. 部署架构

### 7.1 开发环境
- 本地开发环境配置
- 开发数据库配置
- 开发工具配置

### 7.2 生产环境
- Docker容器化部署
- 数据库配置
- 环境变量管理
- 日志管理

## 8. 安全规范

### 8.1 数据安全
- 敏感数据加密
- SQL注入防护
- XSS防护
- CSRF防护

### 8.2 访问控制
- 身份认证
- 权限验证
- 接口限流
- 会话管理

## 9. 性能优化

### 9.1 后端优化
- 数据库索引优化
- 缓存策略
- 并发处理
- 连接池管理

### 9.2 前端优化
- 代码分割
- 懒加载
- 缓存策略
- 性能监控

## 10. 测试规范

### 10.1 单元测试
- 业务逻辑测试
- 接口测试
- 组件测试

### 10.2 集成测试
- 功能测试
- 性能测试
- 安全测试

## 11. 项目管理

### 11.1 版本管理
- 语义化版本
- 更新日志
- 发布流程

### 11.2 问题追踪
- Issue管理
- Bug修复流程
- 特性请求处理 
